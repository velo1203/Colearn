{"version":3,"file":"static/js/755.f2781338.chunk.js","mappings":"wLACA,EAA6B,2BAA7B,EAAwE,8BAAxE,EAAoJ,sBAApJ,EAAiL,qB,+ECyDjL,MA/CA,WACE,IAAMA,GAAWC,EAAAA,EAAAA,MACjBC,GAAwBC,EAAAA,EAAAA,UAAS,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAqCC,EAAAA,EAAAA,KAA7BC,EAAUF,EAAVE,WAAYC,EAAMH,EAANG,OAAQC,EAAIJ,EAAJI,KA6B5B,OA3BAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQC,EAAAA,EAAAA,IACd,aACA,CAACC,iBAAiB,IACpB,KAAD,EAHKN,EAAGE,EAAAK,KAITpB,EAAQa,EAAIQ,KAAKC,WAAUP,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,UAEV,IAAfZ,EAC4B,MAA1BY,EAAAQ,GAAMC,SAASC,SACjBC,MAAM,6BACNC,EAAAA,EAAAA,GAAYvB,IAIdX,EAAS,UACV,yBAAAsB,EAAAa,OAAA,GAAAhB,EAAA,kBAEN,kBAlBc,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KAmBF,SAATzB,GACAE,GAGR,GAAG,KAIDwB,EAAAA,EAAAA,KAAA,OAAAC,UACED,EAAAA,EAAAA,KAAA,OAAKE,UAAWC,EAAkBF,UAChCG,EAAAA,EAAAA,MAAA,OAAKF,UAAWC,EAAqBF,SAAA,EACnCD,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAaF,SAAC,aAC7BG,EAAAA,EAAAA,MAAA,MAAIF,UAAWC,EAAYF,SAAA,CAAC,iBAAKjC,EAAKqC,aACtCD,EAAAA,EAAAA,MAAA,MAAIF,UAAWC,EAAYF,SAAA,EAACD,EAAAA,EAAAA,KAACM,EAAAA,EAAe,CAACC,KAAMC,EAAAA,MAAa,wBAAOxC,EAAKyC,cAC5EL,EAAAA,EAAAA,MAAA,MAAIF,UAAWC,EAAYF,SAAA,CAAC,+BAASjC,EAAK0C,kBAC1CN,EAAAA,EAAAA,MAAA,MAAIF,UAAWC,EAAYF,SAAA,CAAC,oCAASjC,EAAK2C,cAKpD,C","sources":["webpack://frontend/./src/mypage/mypage.module.css?b3c9","mypage/mypage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"infoHeader\":\"mypage_infoHeader__LoeOX\",\"infoContainer\":\"mypage_infoContainer__uwR-R\",\"container\":\"mypage_container__v2Vqr\",\"title\":\"mypage_title__G-jNM\",\"info\":\"mypage_info__CFnvZ\",\"recommendations\":\"mypage_recommendations__CY3j1\",\"button\":\"mypage_button__b9Kbk\",\"liTitle\":\"mypage_liTitle__1m5y1\",\"liDescription\":\"mypage_liDescription__EJtIc\",\"liDate\":\"mypage_liDate__LQIl2\",\"categoryInfo\":\"mypage_categoryInfo__ingS6\",\"categoryColor\":\"mypage_categoryColor__DWqMG\",\"categoryName\":\"mypage_categoryName__rrGnG\",\"categoryItem\":\"mypage_categoryItem__lJOTh\"};","import styles from './mypage.module.css'\r\nimport { useState ,useEffect} from 'react';\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faBook, faEnvelope, faStar, } from \"@fortawesome/free-solid-svg-icons\";\r\nimport useAuthStore from '../authStore'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from '../axiosConfig';\r\nimport { user_logout } from '../authService';\r\n\r\n\r\n\r\nfunction Mypage(){\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({});\r\n  const { isLoggedIn, logOut, role } = useAuthStore();\r\n\r\n  useEffect(() => {\r\n      const checkAuth = async () => {\r\n          try {\r\n              const res = await axios.get(\r\n                  '/user/info',\r\n                  {withCredentials: true}\r\n              );\r\n              setUser(res.data.user_info)\r\n          } catch (error) {\r\n            if (isLoggedIn === true){\r\n              if (error.response.status === 401){\r\n                alert('세션만료')\r\n                user_logout(logOut)\r\n              }\r\n            }\r\n            else{\r\n              navigate('/login')\r\n            }\r\n          }\r\n      };\r\n      if (role === 'user') {\r\n          checkAuth();\r\n      }\r\n\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.infoHeader}>\r\n        <div className={styles.infoContainer}>\r\n          <h1 className={styles.title}>My Page</h1>\r\n          <h2 className={styles.info}>이름: {user.username}</h2>\r\n          <h3 className={styles.info}><FontAwesomeIcon icon={faEnvelope}/> 이메일: {user.useremail}</h3>\r\n          <h4 className={styles.info}>푼 문제 수: {user.problem_count}</h4>\r\n          <h4 className={styles.info}>로그인 타입: {user.type}</h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Mypage;"],"names":["navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","user","setUser","_useAuthStore","useAuthStore","isLoggedIn","logOut","role","useEffect","checkAuth","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","withCredentials","sent","data","user_info","t0","response","status","alert","user_logout","stop","apply","arguments","_jsx","children","className","styles","_jsxs","username","FontAwesomeIcon","icon","faEnvelope","useremail","problem_count","type"],"sourceRoot":""}