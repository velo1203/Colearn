"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[721],{5721:function(e,n,o){o.r(n),o.d(n,{default:function(){return I}});var t=o(9439),r=o(2791),i=o(7689),l=o(5602),c="login_loginPage__-+I3Q",a="login_loginContainer__V656Z",u="login_buttonContainer__uER1p",s="login_backBtn__wjDrT",d="login_loginTitle__4+2Z0",v="login_inputContainer__99FeT",f="login_logoContainer__vFbZa",g="login_logo__dae61",p="login_loginInput__zgc74",h="login_loginBtn__EORWH",m="login_separator__0qbV+",_="login_separatorText__Hzewq",w="login_googleLogin__fh1as",b=o(9548),j=o(8683),y=o(3366);var O=["onSuccess","onError","useOneTap","promptMomentNotification","type","theme","size","text","shape","logo_alignment","width","locale","click_listener","containerProps"];var x=(0,r.createContext)(null);function S(e){var n=e.clientId,o=e.nonce,i=e.onScriptLoadSuccess,l=e.onScriptLoadError,c=e.children,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.nonce,o=e.onScriptLoadSuccess,i=e.onScriptLoadError,l=(0,r.useState)(!1),c=(0,t.Z)(l,2),a=c[0],u=c[1],s=(0,r.useRef)(o);s.current=o;var d=(0,r.useRef)(i);return d.current=i,(0,r.useEffect)((function(){var e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=n,e.onload=function(){var e;u(!0),null===(e=s.current)||void 0===e||e.call(s)},e.onerror=function(){var e;u(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),function(){document.body.removeChild(e)}}),[n]),a}({nonce:o,onScriptLoadSuccess:i,onScriptLoadError:l}),u=(0,r.useMemo)((function(){return{clientId:n,scriptLoadedSuccessfully:a}}),[n,a]);return r.createElement(x.Provider,{value:u},c)}function C(){var e=(0,r.useContext)(x);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Z(e){var n;return null!==(n=null===e||void 0===e?void 0:e.clientId)&&void 0!==n?n:null===e||void 0===e?void 0:e.client_id}var E={large:40,medium:32,small:20};function N(e){var n=e.onSuccess,o=e.onError,t=e.useOneTap,i=e.promptMomentNotification,l=e.type,c=void 0===l?"standard":l,a=e.theme,u=void 0===a?"outline":a,s=e.size,d=void 0===s?"large":s,v=e.text,f=e.shape,g=e.logo_alignment,p=e.width,h=e.locale,m=e.click_listener,_=e.containerProps,w=function(e,n){if(null==e)return{};var o,t,r=(0,y.Z)(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,O),b=(0,r.useRef)(null),x=C(),S=x.clientId,N=x.scriptLoadedSuccessfully,P=(0,r.useRef)(n);P.current=n;var k=(0,r.useRef)(o);k.current=o;var I=(0,r.useRef)(i);return I.current=i,(0,r.useEffect)((function(){var e,n,o,r,i,l,a,s,_;if(N)return null===(o=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===o||o.initialize((0,j.Z)({client_id:S,callback:function(e){var n;if(!(null===e||void 0===e?void 0:e.credential))return null===(n=k.current)||void 0===n?void 0:n.call(k);var o=e.credential,t=e.select_by;P.current({credential:o,clientId:Z(e),select_by:t})}},w)),null===(l=null===(i=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===i?void 0:i.id)||void 0===l||l.renderButton(b.current,{type:c,theme:u,size:d,text:v,shape:f,logo_alignment:g,width:p,locale:h,click_listener:m}),t&&(null===(_=null===(s=null===(a=null===window||void 0===window?void 0:window.google)||void 0===a?void 0:a.accounts)||void 0===s?void 0:s.id)||void 0===_||_.prompt(I.current)),function(){var e,n,o;t&&(null===(o=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===o||o.cancel())}}),[S,N,t,c,u,d,v,f,g,p,h]),r.createElement("div",(0,j.Z)((0,j.Z)({},_),{},{ref:b,style:(0,j.Z)({height:E[d]},null===_||void 0===_?void 0:_.style)}))}var P=o(184),k=function(){var e=(0,i.s0)(),n=(0,b.Z)().logIn;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(S,{clientId:"963824164602-pgc8lggs3ac9cvea5lkahmfflifd3rru.apps.googleusercontent.com",children:(0,P.jsx)(N,{onSuccess:function(o){l.Z.post("/user/google_login",o,{withCredentials:!0}).then((function(o){var t=o.data;console.log(t),t.login&&(n(t.role,t.username),e("/"))}))},onFailure:function(e){console.log(e)}})})})};var I=function(){var e=(0,i.s0)(),n=(0,r.useState)(""),o=(0,t.Z)(n,2),j=o[0],y=o[1],O=(0,r.useState)(""),x=(0,t.Z)(O,2),S=x[0],C=x[1],Z=(0,b.Z)().logIn;return(0,P.jsx)("div",{className:c,children:(0,P.jsxs)("div",{className:a,children:[(0,P.jsx)("div",{className:f,children:(0,P.jsx)("h1",{className:g,onClick:function(){e("/")},children:"Colearn"})}),(0,P.jsx)("h2",{className:d,children:"\ub85c\uadf8\uc778"}),(0,P.jsxs)("div",{className:v,children:[(0,P.jsx)("input",{className:p,type:"text",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",value:j,onChange:function(e){return y(e.target.value)}}),(0,P.jsx)("input",{className:p,type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:S,onChange:function(e){return C(e.target.value)}})]}),(0,P.jsx)("button",{className:h,onClick:function(){j&&S?l.Z.post("/user/login",{useremail:j,password:S},{withCredentials:!0}).then((function(n){var o=n.data;Z(o.role,o.username),e("/")})).catch((function(e){alert(e.response.data.message)})):alert("\uc774\uba54\uc77c \uc8fc\uc18c\uc640 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:"\ub85c\uadf8\uc778"}),(0,P.jsx)("div",{className:m,children:(0,P.jsx)("span",{className:_,children:"\ub610\ub294"})}),(0,P.jsx)("div",{className:w,children:(0,P.jsx)(k,{})}),(0,P.jsx)("div",{className:u,children:(0,P.jsx)("div",{className:s,onClick:function(){e("/register")},children:"\ud68c\uc6d0\uac00\uc785"})})]})})}},8683:function(e,n,o){o.d(n,{Z:function(){return l}});var t=o(9142);function r(e,n,o){return(n=(0,t.Z)(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function i(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function l(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){r(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}},3366:function(e,n,o){function t(e,n){if(null==e)return{};var o,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],n.indexOf(o)>=0||(r[o]=e[o]);return r}o.d(n,{Z:function(){return t}})}}]);
//# sourceMappingURL=721.cde249ab.chunk.js.map