"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[502],{6502:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var s=n(9439),i=n(2791),l="admin_nav__OsdAm",a="admin_navcontainer__S2DQu",r="admin_navtitle__ftieI",o="admin_navoptions__SLsSr",c="admin_option__aO8ar",u="admin_onoption__pfdYA",d=n(7689),p=n(3433),m=n(4165),h=n(5861),b={postproblem:"postproblem_postproblem__O9mWy",select:"postproblem_select__f5-lD",container:"postproblem_container__fT8EQ",form:"postproblem_form__smYZ2",probleminfo:"postproblem_probleminfo__ecPuT",inputGroup:"postproblem_inputGroup__x8hmr",input:"postproblem_input__Z0UsT",label:"postproblem_label__xxHRG",testCaseBox:"postproblem_testCaseBox__FQyk8",testCaseGroup:"postproblem_testCaseGroup__gK+6b",ShowCase:"postproblem_ShowCase__X6jC1",HiddenCase:"postproblem_HiddenCase__Wi4X4",CaseTitle:"postproblem_CaseTitle__NeVtV",CaseInputBox:"postproblem_CaseInputBox__8GqIO",Caseinput:"postproblem_Caseinput__YP64X",button:"postproblem_button__heP2O",DeleteButton:"postproblem_DeleteButton__Qfi3q",options:"postproblem_options__66l0n",modelAnswerInputbox:"postproblem_modelAnswerInputbox__92P-r",modelAnswerInput:"postproblem_modelAnswerInput__hkrQz",submit:"postproblem_submit__BXENe"},x=n(1243),_=n(1060),f=n(9806),v=n(1632),j=n(184),C=function(e){var t=e.testCase,n=e.index,s=e.handleRemoveTestCase,i=e.handleChange,l=e.setVisible,a=e.styles;return(0,j.jsxs)("div",{className:a.testCaseGroup,children:[(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:a.CaseInputBox,children:[(0,j.jsxs)("div",{className:a.Caseinput,children:[(0,j.jsxs)("label",{htmlFor:"input-".concat(n),className:a.label,children:["\uc785\ub825 ",n+1]}),(0,j.jsx)("input",{id:"input-".concat(n),type:"text",value:t.input,onChange:function(e){return i(e,n,l)},className:a.input})]}),(0,j.jsxs)("div",{className:a.Caseinput,children:[(0,j.jsxs)("label",{htmlFor:"output-".concat(n),className:a.label,children:["\ucd9c\ub825 ",n+1]}),(0,j.jsx)("input",{id:"output-".concat(n),type:"text",value:t.output,onChange:function(e){return i(e,n,l)},className:a.input})]})]})}),0===n?"":(0,j.jsxs)("button",{type:"button",onClick:function(){return s(n,l)},className:a.DeleteButton,disabled:0===n,children:["\uc0ad\uc81c ",(0,j.jsx)(f.G,{icon:v.$aW})]})]},n)},N=function(e){var t=e.visibleTestCases,n=e.hiddenTestCases,s=e.handleRemoveTestCase,i=e.handleChange,l=e.handleAddTestCase,a=e.styles;return(0,j.jsxs)("div",{className:a.testCaseBox,children:[(0,j.jsxs)("div",{className:a.ShowCase,children:[(0,j.jsxs)("h4",{className:a.CaseTitle,children:["\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc ",t.length,"/3"]}),t.map((function(e,t){return(0,j.jsx)(C,{testCase:e,index:t,handleRemoveTestCase:s,handleChange:i,setVisible:!0,styles:a},t)})),t.length<3?(0,j.jsxs)("button",{type:"button",onClick:function(){return l(!0)},className:a.button,children:["\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc \ucd94\uac00 ",(0,j.jsx)(f.G,{icon:v.KtF})]}):null]}),(0,j.jsxs)("div",{className:a.HiddenCase,children:[(0,j.jsxs)("h4",{className:a.CaseTitle,children:["\uc548\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc ",n.length,"/2"]}),n.map((function(e,t){return(0,j.jsx)(C,{testCase:e,index:t,handleRemoveTestCase:s,handleChange:i,setVisible:!1,styles:a},t)})),n.length<2?(0,j.jsxs)("button",{type:"button",onClick:function(){return l(!1)},className:a.button,children:["\uc548\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc \ucd94\uac00 ",(0,j.jsx)(f.G,{icon:v.KtF})]}):null]})]})},g=function(e){var t=e.HandleChangeOption,n=JSON.stringify({title:"\ubb38\uc81c \uc81c\ubaa9",description:"\ubb38\uc81c \uc124\uba85",visibleTestCases:[{input:"\ubcf4\uc5ec\uc9c0\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 1\uc758 \uc785\ub825",output:"\ubcf4\uc5ec\uc9c0\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 1\uc758 \ucd9c\ub825"},{input:"\ubcf4\uc5ec\uc9c0\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 2\uc758 \uc785\ub825",output:"\ubcf4\uc5ec\uc9c0\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 2\uc758 \ucd9c\ub825"}],hiddenTestCases:[{input:"\uc228\uaca8\uc9c4 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 1\uc758 \uc785\ub825",output:"\uc228\uaca8\uc9c4 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 1\uc758 \ucd9c\ub825"}],modelAnswer:"\ubaa8\ub378 \ub2f5\uc548 \ucf54\ub4dc",modelHint:"\ubaa8\ub378 \ud78c\ud2b8 \ucf54\ub4dc"},null,2),l=(0,i.useState)(""),a=(0,s.Z)(l,2),r=a[0],o=a[1],c=(0,i.useState)(""),u=(0,s.Z)(c,2),d=u[0],C=u[1],g=(0,i.useState)([{input:"",output:""}]),Z=(0,s.Z)(g,2),T=Z[0],w=Z[1],I=(0,i.useState)([{input:"",output:""}]),y=(0,s.Z)(I,2),S=y[0],k=y[1],A=(0,i.useState)(""),B=(0,s.Z)(A,2),G=B[0],H=B[1],O=(0,i.useState)(""),P=(0,s.Z)(O,2),D=P[0],F=P[1],J=(0,i.useState)(""),V=(0,s.Z)(J,2),R=V[0],E=V[1],Q=function(){var e=(0,h.Z)((0,m.Z)().mark((function e(t){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){try{var e=JSON.parse(D);e.title&&o(e.title),e.description&&C(e.description),e.visibleTestCases&&w(e.visibleTestCases),e.hiddenTestCases&&k(e.hiddenTestCases),e.modelAnswer&&H(e.modelAnswer),e.modelHint&&E(e.modelHint)}catch(t){console.error("Invalid JSON")}}),[D]);var K=function(){var e=(0,h.Z)((0,m.Z)().mark((function e(n){var s,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=""!==T[0].output.trim(),r&&d&&s){e.next=5;break}return alert("\uccab \ubc88\uc9f8 \ubcf4\uc774\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4\uc758 \uc785\ub825\uacfc \ucd9c\ub825 \ud544\ub4dc\ub97c \ucc44\uc6b0\uace0, \ubb38\uc81c \uc81c\ubaa9\uacfc \uc124\uba85\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624."),e.abrupt("return");case 5:return console.log({title:r,description:d,visibleTestCases:T,hiddenTestCases:S,modelAnswer:G}),e.prev=6,e.next=9,x.Z.post("/admin/post_problem",{title:r,description:d,visibleTestCases:T,hiddenTestCases:S,modelAnswer:G,modelHint:R},{withCredentials:!0});case 9:i=e.sent,console.log(i.data),t("list"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsx)("div",{className:b.postproblem,children:(0,j.jsx)("div",{className:b.container,children:(0,j.jsxs)("form",{onSubmit:K,className:b.form,children:[(0,j.jsxs)("div",{className:b.probleminfo,children:[(0,j.jsxs)("div",{className:b.inputGroup,children:[(0,j.jsx)("label",{htmlFor:"jsonInput",className:b.label,children:"JSON \uc785\ub825"}),(0,j.jsx)("input",{id:"jsonInput",type:"text",value:D,onChange:function(e){return F(e.target.value)},className:b.input})]}),(0,j.jsx)("button",{type:"button",onClick:function(){return Q(n)},className:b.button,children:"JSON \uc591\uc2dd \ubcf5\uc0ac"})]}),(0,j.jsxs)("div",{className:b.probleminfo,children:[(0,j.jsxs)("div",{className:b.inputGroup,children:[(0,j.jsx)("label",{htmlFor:"title",className:b.label,children:"\ubb38\uc81c \uc81c\ubaa9"}),(0,j.jsx)("input",{id:"title",type:"text",value:r,onChange:function(e){return o(e.target.value)},className:b.input})]}),(0,j.jsxs)("div",{className:b.inputGroup,children:[(0,j.jsx)("label",{htmlFor:"description",className:b.label,children:"\ubb38\uc81c \uc124\uba85"}),(0,j.jsx)("textarea",{id:"description",value:d,onChange:function(e){return C(e.target.value)},className:b.input})]})]}),(0,j.jsx)(N,{visibleTestCases:T,hiddenTestCases:S,handleRemoveTestCase:function(e,t){var n=t?(0,p.Z)(T):(0,p.Z)(S);n.length>1&&(n.splice(e,1),t?w(n):k(n))},handleChange:function(e,t,n){var s=n?(0,p.Z)(T):(0,p.Z)(S);s[t][e.target.id.startsWith("input")?"input":"output"]=e.target.value,n?w(s):k(s)},handleAddTestCase:function(e){var t=e?(0,p.Z)(T):(0,p.Z)(S);(e&&t.length<3||!e)&&(t.push({input:"",output:""}),e?w(t):k(t))},styles:b}),(0,j.jsxs)("div",{className:b.modelAnswerInputbox,children:[(0,j.jsx)("label",{htmlFor:"modelHint",className:b.label,children:"\ucf54\ub4dc \ud78c\ud2b8"}),(0,j.jsx)(_.ZP,{id:"modelHint",height:"300px",language:"python",value:R,onChange:function(e){return E(e)},className:b.modelAnswerInput})]}),(0,j.jsxs)("div",{className:b.modelAnswerInputbox,children:[(0,j.jsx)("label",{htmlFor:"modelAnswer",className:b.label,children:"\ubaa8\ubc94 \ub2f5\uc548 (\uad00\ub9ac\uc790\ub9cc \ubcfc \uc218 \uc788\uc74c)"}),(0,j.jsx)(_.ZP,{id:"modelAnswer",height:"300px",language:"python",value:G,onChange:function(e){return H(e)},className:b.modelAnswerInput})]}),(0,j.jsxs)("div",{className:b.options,children:[(0,j.jsxs)("p",{children:["\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc: ",T.length,"/3"]}),(0,j.jsxs)("p",{children:["\uc548\ubcf4\uc5ec\uc9c0\ub294 \uc608\uc2dc: ",S.length,"/2"]}),(0,j.jsxs)("button",{type:"submit",className:b.submit,children:["\ub4f1\ub85d ",(0,j.jsx)(f.G,{icon:v.KN3})]})]})]})})})},Z=n(1413),T={noproblem:"editproblem_noproblem__mSxrR",label:"editproblem_label__r0oFF",select:"editproblem_select__NPJaZ",inputGroup:"editproblem_inputGroup__YR5GV",eidtproblem:"editproblem_eidtproblem__qs6L-",container:"editproblem_container__bRM5J",TopproblemBar:"editproblem_TopproblemBar__-mxjJ",problemBar:"editproblem_problemBar__82qB-",probleminfo:"editproblem_probleminfo__jGBmr",problemTitle:"editproblem_problemTitle__yizmC",problemDescription:"editproblem_problemDescription__eYKem",button:"editproblem_button__aJBzJ",problemedit:"editproblem_problemedit__rpLfH",editcontainer:"editproblem_editcontainer__cmAxQ",testcase:"editproblem_testcase__dA0sp",testcaseinput:"editproblem_testcaseinput__Bj0Pc",editInput:"editproblem_editInput__Fuja8",menucontainer:"editproblem_menucontainer__iQki2"},w=n(4486),I=function(e){var t=e.row,n=e.selectedId,l=e.setSelectedId,a=e.setProblemlist,r=e.problemlist,o=e.styles;console.log(t);var c=t.id===n,u=(0,i.useState)(!1),d=(0,s.Z)(u,2),p=d[0],b=d[1],C=(0,i.useState)((0,Z.Z)({},t)),N=(0,s.Z)(C,2),g=N[0],T=N[1],w=(0,i.useState)(!1),I=(0,s.Z)(w,2),y=I[0],S=I[1];function k(){return(k=(0,h.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(JSON.stringify(g));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return(0,j.jsxs)("li",{className:o.problemBar,children:[(0,j.jsxs)("div",{className:o.probleminfo,children:[(0,j.jsxs)("div",{className:o.problemTitle,children:[t.order,". ",t.title]}),(0,j.jsx)("div",{className:o.problemDescription,children:t.description}),(0,j.jsxs)("button",{className:o.button,onClick:function(){t.id===n?l(null):l(t.id),b(!1),T((0,Z.Z)({},t))},children:[c?"\ub2eb\uae30":"\ub354\ubcf4\uae30",c&&(0,j.jsx)(f.G,{icon:v.YIN})]})]}),c&&(0,j.jsxs)("div",{className:o.problemedit,children:[(0,j.jsxs)("div",{className:o.editcontainer,children:[(0,j.jsx)("div",{className:o.problemTitle,children:p?(0,j.jsx)("input",{className:o.editInput,defaultValue:g.title,onChange:function(e){return T((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{title:e.target.value})}))}}):g.title}),(0,j.jsx)("div",{className:o.problemDescription_info,children:p?(0,j.jsx)("input",{className:o.editInput,defaultValue:g.description,onChange:function(e){return T((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{description:e.target.value})}))}}):g.description})]}),(0,j.jsxs)("div",{className:o.editcontainer,children:[(0,j.jsx)("h4",{children:"\ubcf4\uc774\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4\ub4e4"}),g.visibleTestCases.map((function(e,t){return(0,j.jsxs)("div",{className:o.testcase,children:[(0,j.jsxs)("div",{className:o.testcaseinput,children:["Input : ",p?(0,j.jsx)("input",{defaultValue:e.input,className:o.editInput,onChange:function(e){var n=(0,Z.Z)({},g);n.visibleTestCases[t].input=e.target.value,T(n)}}):e.input]}),(0,j.jsxs)("div",{className:o.testcaseoutput,children:["Output : ",p?(0,j.jsx)("input",{defaultValue:e.output,className:o.editInput,onChange:function(e){var n=(0,Z.Z)({},g);n.visibleTestCases[t].output=e.target.value,T(n)}}):e.output]})]},t)}))]}),(0,j.jsxs)("div",{className:o.editcontainer,children:[(0,j.jsx)("h4",{children:"\uc548\ubcf4\uc774\ub294 \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4\ub4e4"}),g.hiddenTestCases.map((function(e,t){return(0,j.jsxs)("div",{className:o.testcase,children:[(0,j.jsxs)("div",{className:o.testcaseinput,children:["Input : ",p?(0,j.jsx)("input",{defaultValue:e.input,className:o.editInput,onChange:function(e){var n=(0,Z.Z)({},g);n.hiddenTestCases[t].input=e.target.value,T(n)}}):e.input]}),(0,j.jsxs)("div",{className:o.testcaseoutput,children:["Output : ",p?(0,j.jsx)("input",{defaultValue:e.output,className:o.editInput,onChange:function(e){var n=(0,Z.Z)({},g);n.hiddenTestCases[t].output=e.target.value,T(n)}}):e.output]})]},t)}))]}),(0,j.jsxs)("div",{className:o.editcontainer,children:[(0,j.jsx)("h4",{children:"\ubb38\uc81c \ud78c\ud2b8"}),(0,j.jsx)(_.ZP,{height:"300px",value:g.modelHint,language:"python",onChange:function(e){return T((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{modelHint:e})}))}})]}),(0,j.jsxs)("div",{className:o.editcontainer,children:[(0,j.jsx)("h4",{children:"\ubaa8\ubc94 \ub2f5\uc548"}),(0,j.jsx)(_.ZP,{height:"300px",value:g.modelAnswer,language:"python",onChange:function(e){return T((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{modelAnswer:e})}))}})]}),(0,j.jsxs)("div",{className:o.menucontainer,children:[c&&(0,j.jsx)("button",{onClick:function(){p&&(S(!0),x.Z.post("/admin/edit_problem",g,{withCredentials:!0}).then((function(e){alert(e.data.message),S(!1)})).catch((function(e){console.log(e),S(!1)}))),b(!p)},className:o.button,children:y?"\uc218\uc815 \uc911...":p?"\uc644\ub8cc":"\uc218\uc815"}),c&&(0,j.jsx)("button",{onClick:function(){x.Z.post("/admin/delete_problem",g,{withCredentials:!0}).then((function(e){alert(e.data.message),a(r.filter((function(e){return e.id!==g.id})))})).catch((function(e){console.log(e)}))},className:o.button,children:"\uc0ad\uc81c"}),c&&(0,j.jsx)("button",{onClick:function(){return k.apply(this,arguments)},className:o.button,children:"\ubb38\uc81c JSON \ubcf5\uc0ac"})]})]})]})},y=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],l=t[1],a=(0,i.useState)(null),r=(0,s.Z)(a,2),o=r[0],c=r[1];(0,i.useEffect)((function(){x.Z.get("/admin/show_problemlist",{withCredentials:!0}).then((function(e){var t=e.data.sort((function(e,t){return e.order-t.order}));l(t)})).catch((function(){console.log("\ubb38\uc81c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),l([])}))}),[]);return(0,j.jsx)("div",{className:T.editproblem,children:(0,j.jsx)("div",{className:T.container,children:0===n.length?(0,j.jsx)("p",{className:T.noproblem,children:"\ubb38\uc81c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}):(0,j.jsx)(w.Z5,{onDragEnd:function(e){if(e.destination){var t=Array.from(n),i=t.splice(e.source.index,1),a=(0,s.Z)(i,1)[0];t.splice(e.destination.index,0,a),t.forEach((function(e,t){e.order=t+1})),l(t),x.Z.post("/admin/update_order",t,{withCredentials:!0}).then((function(e){console.log(e.data.message)})).catch((function(e){console.error(e)}))}},children:(0,j.jsx)(w.bK,{droppableId:"droppable",children:function(e){return(0,j.jsx)("div",(0,Z.Z)((0,Z.Z)({ref:e.innerRef},e.droppableProps),{},{children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{className:T.TopproblemBar,children:(0,j.jsxs)("div",{className:T.probleminfo,children:[(0,j.jsx)("div",{className:T.problemTitle,children:"\uc81c\ubaa9"}),(0,j.jsx)("div",{className:T.problemDescription,children:"\uc124\uba85"}),(0,j.jsx)("div",{className:T.problemDescription,children:"\ub354\ubcf4\uae30/\uc218\uc815"})]})}),n.map((function(e,t){return(0,j.jsx)(w._l,{draggableId:e.id.toString(),index:t,isDragDisabled:null!==o,children:function(t){return(0,j.jsx)("ul",(0,Z.Z)((0,Z.Z)((0,Z.Z)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:(0,j.jsx)(I,{row:e,selectedId:o,setSelectedId:c,setProblemlist:l,problemlist:n,styles:T},e.id)}))}},e.id)})),e.placeholder]})}))}})})})})},S=n(9548),k=function(){var e=(0,S.Z)(),t=e.isLoggedIn,n=e.role,p=(0,i.useState)("list"),m=(0,s.Z)(p,2),h=m[0],b=m[1],x=(0,d.s0)();function _(e){b(e)}return(0,i.useEffect)((function(){"user"===n&&x("/")}),[t,x]),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:l,children:(0,j.jsxs)("div",{className:a,children:[(0,j.jsx)("div",{className:r,children:"AdminPage"}),(0,j.jsxs)("ul",{className:o,children:[(0,j.jsx)("li",{onClick:function(){return _("list")},className:"".concat(c," ").concat("list"===h?u:""),children:"\ubb38\uc81c \ubaa9\ub85d"}),(0,j.jsx)("li",{onClick:function(){return _("post")},className:"".concat(c," ").concat("post"===h?u:""),children:"\ubb38\uc81c \ub4f1\ub85d"})]})]})}),"list"===h?(0,j.jsx)(y,{}):(0,j.jsx)(g,{HandleChangeOption:_})]})}}}]);
//# sourceMappingURL=502.c53b732c.chunk.js.map